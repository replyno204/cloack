(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5613],{12120:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/signup",function(){return t(31146)}])},52305:function(e,l,t){"use strict";t.d(l,{Z:function(){return d}});var o=t(85893),n=t(85444),r=t(91889),i=t(94041),a=t(98238),s=t(8850),u=t(28012);let c=n.ZP.div.withConfig({componentId:"sc-39cdbb1c-0"})(["padding:4px 16px;background-color:rgba(13,53,120,0.06);border-radius:32px;user-select:none;display:flex;align-items:center;flex-wrap:wrap;justify-content:center;> span{display:flex;align-items:center;}"]);function d(){let e=(0,n.Fg)();return(0,o.jsxs)(c,{children:[(0,o.jsxs)(s.d9,{children:[(0,r.Iu)(u.Iz.validateURL),"\xa0"]}),(0,o.jsxs)("span",{children:[(0,o.jsx)(i.ZP,{type:a.T.LockFilled,height:15,width:15,color:e.colors.base.body}),(0,o.jsx)(s.TB,{children:"https://login.blockchain.com"})]})]})}},41307:function(e,l,t){"use strict";t.d(l,{I:function(){return r}});var o=t(67294),n=t(88857);let r=()=>(0,o.useContext)(n.T)},31146:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return ee}});var o=t(85893),n=t(67294),r=t(11163),i=t(93118),a=t(10653),s=t(62751),u=t(25675),c=t.n(u),d=t(91889),h=t(94041),v=t(98238),p=t(58754),f=t(72753),E=t(51286),x=t(16545);let y={title:"Continue on your phone",byline1:"At this moment, the Blockchain.com Wallet is only available on mobile for your region.",byline2:"To keep enjoying your Blockchain.com experience, download the app."};function j(e){let{sofi:l}=e;return(0,o.jsx)(E.Z,{sofi:l,minHeight:480,icon:(0,o.jsx)(x.f4,{children:(0,o.jsx)(h.ZP,{type:v.T.MobileFilled,height:68,width:68})}),title:(0,d.Iu)(y.title),byline:[(0,d.Iu)(y.byline1),(0,d.Iu)(y.byline2)],buttons:(0,o.jsxs)(x.gq,{children:[(0,o.jsx)(p.Z,{"aria-label":"Download on the Apple App Store",href:f.Ry,children:(0,o.jsx)(c(),{src:"".concat("/","image/sofi/appstore.svg"),alt:"Download on Apple App Store",height:48,width:164})}),(0,o.jsx)(p.Z,{"aria-label":"Download on the Google Play Store",href:f.SF,children:(0,o.jsx)(c(),{src:"".concat("/","image/sofi/playstore.svg"),alt:"Download on the Google Play Store",height:48,width:164})})]})})}(0,d.ig)("service.wallet.page.sofi.bakkt",y);var g=t(7482),U=t(52305),R=t(39354),b=t(85444),I=t(21375),w=t(36701),C=t(34389),m=t(34479),S=t(80318),P=t(39128),T=t(61065),_=t(16146),Z=t(35646),N=t(85689),G=t(2858),k=t(15828),D=t(82400),L=t(23360),A=t(71811),F=t(18792),z=t(20193),M=t(43862),K=t(55494);let B={AD:"EUR",AT:"EUR",BE:"EUR",CA:"CAD",CS:"EUR",DE:"EUR",DK:"DKK",EE:"EUR",ES:"EUR",FI:"EUR",FO:"DKK",FR:"EUR",GB:"GBP",GF:"EUR",GL:"DKK",GP:"EUR",GR:"EUR",GY:"EUR",IE:"EUR",IT:"EUR",LT:"EUR",LU:"EUR",LV:"EUR",MC:"EUR",MQ:"EUR",MT:"EUR",NL:"EUR",PL:"PLN",PM:"EUR",PT:"EUR",RE:"EUR",RU:"EUR",SE:"SEK",SI:"EUR",SK:"EUR",SM:"EUR",TF:"EUR",VA:"EUR",YT:"EUR"},q={...B,NG:"NGN"},O=(e,l)=>l?q[e]||"USD":B[e]||"USD";var Q=t(49131),V=t(87799),W=t(8850);let J=(0,b.ZP)(W.d9).withConfig({componentId:"sc-868f1b0f-0"})(["color:",";"],e=>e.theme.colors.base.body);var Y=t(83454);function X(e){var l,t,r,a;let{data:s,onComplete:u,setFormIndex:c}=e,p=(0,b.Fg)(),{createWallet:f}=(0,P.i)(),E=(0,S.Z)(),{setSessionToken:x}=(0,T.k)(),{generateSessionToken:y,checkIfValidReferralCode:j,createReferralLink:g}=(0,i.J)(),{create:U}=(0,m.A)(),R=(0,D.Z)(),{fetch:B,update:q}=(0,_.r)(),[W,X]=(0,n.useState)(""),{get:$,setUserInitialAddress:H}=(0,N.a)(),{countries:ee,states:el}=(0,L.Z)(),et=(0,w.g)(),eo=(0,n.useMemo)(()=>(null==ee?void 0:ee.length)?ee.map(e=>({label:e.name,value:e.code})):[],[ee]),en=(0,n.useMemo)(()=>(null==el?void 0:el.length)?el.map(e=>({label:e.name,value:e.code})):[],[el]),[er,ei]=(0,n.useState)(!1),[ea,es]=(0,n.useState)({country:null,referralCode:"",state:null}),eu=(e,l)=>{es(t=>({...t,[e]:l}))},ec=(null===(l=ea.country)||void 0===l?void 0:l.value)==="US"?!!(null===(t=ea.state)||void 0===t?void 0:t.value):!!(null===(r=ea.country)||void 0===r?void 0:r.value),ed=(0,k.Z)(async e=>{if(e.preventDefault(),ec){var l,t,o,n,r,i,a,h,v,p;if(er)return!1;if(ei(!0),(null===(l=ea.country)||void 0===l?void 0:l.value)==="US"){let e=null==Y?void 0:null===(o=Y.env)||void 0===o?void 0:null===(t=o.NEXT_PUBLIC_BAKKT_STATES)||void 0===t?void 0:t.split(",");if(null==e?void 0:e.includes(null===(n=ea.state)||void 0===n?void 0:n.value)){c(3);return}}try{let e,{email:l,password:t}=s;if(l=null==l?void 0:l.toLowerCase(),ea.referralCode.length&&(e=await j(ea.referralCode)),!1===e){ei(!1),X((0,d.Iu)(V.Iz.invalidReferralCode)),es(e=>({...e,referralCode:""}));return}let o=await y();x(o);let n=await E();if(console.log("Captcha:",n),!n)throw ei(!1),Error("There was an error with the Google Recaptcha service, please try again.");let c=await f(l,t,n,"en",!1);if(console.log("Wallet created:",c),!c)throw Error("Failed to Create Wallet");await U(c,t),await H(null!==(h=null===(r=ea.country)||void 0===r?void 0:r.value)&&void 0!==h?h:"",null!==(v=null===(i=ea.state)||void 0===i?void 0:i.value)&&void 0!==v?v:"");let R=et.get(C.T.CURRENCY,{ticker:"NGN"});await q(Z.a2.UpdateCurrency,O(null!==(p=null===(a=ea.country)||void 0===a?void 0:a.value)&&void 0!==p?p:"",R),c.data),await Promise.all([B(c),$()]),e&&await g(ea.referralCode),u(ea),ei(!1)}catch(e){ei(!1),u({error:(0,d.Iu)(V.Iz.createError)},0)}}},[U,f,s,E,ea,y,u,er,x,R,ec]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I.bp,{onClick:()=>null==c?void 0:c(0),children:(0,o.jsx)(h.ZP,{type:v.T.ChevronLeft})}),(0,o.jsxs)(Q.M5,{children:[(0,o.jsx)(Q.qk,{children:(0,o.jsx)(h.ZP,{type:v.T.GlobeFilled,width:66,height:66,color:p.colors.base.title})}),(0,o.jsx)(Q.Dx,{children:(0,d.Iu)(V.Iz.countryQuery)}),(0,o.jsx)(Q.uT,{children:(0,d.Iu)(V.Iz.countrySubtitle)})]}),(0,o.jsxs)(Q.l0,{onSubmit:ed,children:[(0,o.jsxs)(F.i$,{children:[(0,o.jsx)(F.Qy,{children:(0,d.Iu)(V.Iz.countryLabel,{},!0)}),(0,o.jsx)(z.h,{searchable:!0,options:eo,onChange:e=>eu("country",e),placeholder:(0,d.Iu)(V.Iz.countryPlaceholder,{},!0)})]}),(null===(a=ea.country)||void 0===a?void 0:a.value)=="US"&&(0,o.jsxs)(F.i$,{children:[(0,o.jsx)(F.Qy,{children:(0,d.Iu)(V.Iz.stateLabel,{},!0)}),(0,o.jsx)(z.h,{searchable:!0,options:en,onChange:e=>eu("state",e),placeholder:(0,d.Iu)(V.Iz.statePlaceholder,{},!0)})]}),(0,o.jsxs)(Q.xJ,{children:[(0,o.jsxs)(Q.__,{children:[(0,d.Iu)(V.Iz.referralLabel)," ",(0,o.jsxs)(J,{children:["(",(0,d.Iu)(G.Iz.optional),")"]})]}),(0,o.jsx)(M.Z,{placeholder:(0,d.Iu)(V.Iz.referralPlaceholder,{},!0),value:ea.referralCode,onChange:e=>eu("referralCode",e.target.value),borderColor:W?p.colors.base.error:"transparent"}),W&&(0,o.jsx)(Q.jj,{children:W})]}),(0,o.jsx)(Q.iw,{}),(0,o.jsx)(A.Z,{disabled:!ec||er,type:"submit",analytics:{id:"COMMIT_SIGNUP",parent_id:"SIGNUP_FLOW"},children:er?(0,o.jsx)(K.Z,{height:24,width:24}):(0,d.Iu)(G.Iz.next)})]})]})}var $=t(79620);function H(){let e="verify-email"in(0,r.useRouter)().query,[l,t]=(0,n.useState)({}),[s,u]=(0,n.useState)(()=>e?2:0),{logout:c}=(0,i.J)(),d=(e,l)=>{t(l=>({...l,...e})),"number"==typeof l?u(l):u(e=>e+1)},h=(0,n.useMemo)(()=>[(0,o.jsx)(R.Z,{onComplete:d,data:l},0),(0,o.jsx)(X,{onComplete:d,data:l,setFormIndex:u},1),(0,o.jsx)($.Z,{onComplete:d,data:l},2),(0,o.jsx)(j,{sofi:!1},3)],[l]);return((0,n.useEffect)(()=>{e||c(!1,a.P.signup)},[]),4===s)?h[s]:(0,o.jsxs)(Q.im,{children:[(0,o.jsx)(U.Z,{}),(0,o.jsx)(Q.VY,{direction:g.Qb.Column,gap:16,children:h[s]})]})}function ee(e){let{logout:l}=(0,i.J)(),t=(0,r.useRouter)();return(0,n.useEffect)(()=>{"verify-email"in t.query||l(!1,a.P.login)},[]),(0,o.jsx)(H,{...e})}ee.looseAuthenticationRequirement=s.q.None,ee.PAGE_VIEWED_EVENT={id:"SIGNUP"}}},function(e){e.O(0,[9879,2888,9774,179],function(){return e(e.s=12120)}),_N_E=e.O()}]);